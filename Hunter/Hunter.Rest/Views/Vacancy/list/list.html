<!--should includ MyStyle.css -->
<div class="container">

    <div class="row margin-bottom">
        <div class="col-md-2">
            <span class="h2">Vacancies</span>
        </div>
        <div class="col-md-2 col-md-offset-1">
            <a href="#/vacancy/edit" class="btn">
                <span class="glyphicon glyphicon-plus-sign"></span>
                Add new
            </a>
        </div>
    </div>

    <div class="row">
        <form role="form">
            <div class="col-md-3">
                <div class="form-group">
                    <label>Filter</label>
                    <input type="text" class="form-control" id="searchFilter" placeholder="Search"
                           ng-model="vacancyListCtrl.filterParams.filter">
                </div>
                <h4>Pool</h4>
                <ul>
                    <li ng-repeat="pool in vacancyListCtrl.pools">
                        <div class="checkbox">
                            <label><input type="checkbox" ng-true-value="{{pool.id}}" ng-false-value="{{undefined}}" ng-model="vacancyListCtrl.filterParams.pool[$index]">{{pool.name}}</label>
                        </div>
                    </li>
                </ul>
                <hr />
                <h4>Status</h4>
                <ul>
                    <li ng-repeat="status in vacancyListCtrl.statuses">
                        <div class="checkbox">
                            <label><input type="checkbox" ng-true-value="{{status.id}}" ng-false-value="{{undefined}}" ng-model="vacancyListCtrl.filterParams.status[$index]">{{status.name}}</label>
                        </div>
                    </li>
                </ul>
                <hr />
                <h4>Added by</h4>
                <ul>
                    <li ng-repeat="adder in vacancyListCtrl.adders">
                        <div class="checkbox">
                            <label><input type="checkbox" ng-click="vacancyListCtrl.pushPopItem({{adder}}, vacancyListCtrl.filterParams.addedBy)">{{adder}}</label>
                        </div>
                    </li>
                </ul>
                {{vacancyListCtrl.filterParams.addedBy}}
            </div>
            <div class="col-md-9">
                <table class="table table-striped table-hover table-responsive">
                    <tr>
                        <th>checkbox  </th>
                        <th>
                            <a href="" ng-click="sortType = 'name'; sortReverse = !sortReverse">
                                Title
                                <span ng-show="sortType == 'name' && !sortReverse" class="fa fa-caret-down"></span>
                                <span ng-show="sortType == 'name' && sortReverse" class="fa fa-caret-up"></span>
                            </a>
                        </th>
                        <th>
                            <a href="" ng-click="sortType = 'startDate'; sortReverse = !sortReverse">
                                Start date
                                <span ng-show="sortType == 'startDate' && !sortReverse" class="fa fa-caret-down"></span>
                                <span ng-show="sortType == 'startDate' && sortReverse" class="fa fa-caret-up"></span>
                            </a>
                        </th>
                        <th>
                            <a href="" ng-click="sortType = 'endDate'; sortReverse = !sortReverse">
                                End date
                                <span ng-show="sortType == 'endDate' && !sortReverse" class="fa fa-caret-down"></span>
                                <span ng-show="sortType == 'endDate' && sortReverse" class="fa fa-caret-up"></span>
                            </a>
                        </th>
                        <th>
                            <a href="" ng-click="sortType = 'countCandidates'; sortReverse = !sortReverse">
                                Candidates
                                <span ng-show="sortType == 'countCandidates' && !sortReverse" class="fa fa-caret-down"></span>
                                <span ng-show="sortType == 'countCandidates' && sortReverse" class="fa fa-caret-up"></span>
                            </a>
                        </th>
                        <th>
                            <a href="" ng-click="sortType = 'countShortListed'; sortReverse = !sortReverse">
                                Shortlisted
                                <span ng-show="sortType == 'countShortListed' && !sortReverse" class="fa fa-caret-down"></span>
                                <span ng-show="sortType == 'countShortListed' && sortReverse" class="fa fa-caret-up"></span>
                            </a>
                        </th>
                        <th>
                            <a href="" ng-click="sortType = 'addedByName'; sortReverse = !sortReverse">
                                Added By
                                <span ng-show="sortType == 'addedByName' && !sortReverse" class="fa fa-caret-down"></span>
                                <span ng-show="sortType == 'addedByName' && sortReverse" class="fa fa-caret-up"></span>
                            </a>
                        </th>
                    </tr>

                    <tr dir-paginate="vacancy in vacancyListCtrl.vacancies | orderBy:sortType:sortReverse | itemsPerPage: vacancyListCtrl.pageSize" current-page="vacancyListCtrl.currentPage">

                        <td>
                            <input type="checkbox">
                        </td>
                        <td>
                            <a href="#/vacancy/edit/{{vacancy.id}}">{{vacancy.name}}</a>
                        </td>
                        <td>{{vacancy.startDate | date:'dd-MM-yyyy'}}</td>
                        <td>{{vacancy.endDate | date:'dd-MM-yyyy'}}</td>
                        <td>{{vacancy.countCandidates}}</td>
                        <td>{{vacancy.countShortListed}}</td>
                        <td>{{vacancy.addedByName}}</td>
                    </tr>

                </table>
            </div>
            <div class="col-md-2">
                <select class="form-control">
                    <option>Close</option>
                    <option>Edit</option>
                    <option>Delete</option>
                </select>
            </div>
            <div class="col-md-1">
                <button type="submit" class="btn btn-primary">Ok</button>
            </div>
        </form>
    </div>
    <div class="row">
        <div class="text-center">
            <div ng-controller="OtherController" class="other-controller">
                <div class="text-center">
                    <dir-pagination-controls boundary-links="true" on-page-change="pageChangeHandler(newPageNumber)" template-url="/Views/vacancy/list/dirPagination.tpl.html"></dir-pagination-controls>
                </div>
            </div>
        </div>
    </div>
</div>
