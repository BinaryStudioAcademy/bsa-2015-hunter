<!--should includ MyStyle.css -->
<div class="container">

    <div class="row margin-bottom">
        <div class="col-md-2">
            <span class="h2">Vacancies</span>
        </div>
        <div class="col-md-3 col-md-offset-1">
            <select class="form-control" ng-model="vacancyListCtrl.sortAction" ng-options="s.name for s in vacancyListCtrl.sortBy"></select>
        </div>
        <div class="col-md-2 col-md-offset-1">
            <a href="#/vacancy/edit" class="btn">
                <span class="glyphicon glyphicon-plus-sign"></span>
                Add new
            </a>
        </div>
    </div>

    <div class="row">
        <form role="form">
            <div class="col-md-3">
                <div class="form-group">
                    <label>Search</label>
                    <input type="text" class="form-control" id="searchFilter" placeholder="Search" ng-model="vacancyListCtrl.filterParams.filter">
                </div>
                <h4>Pool</h4>
                <ul>
                    <li ng-repeat="pool in vacancyListCtrl.pools">
                        <div class="checkbox">
                            <label><input type="checkbox" checklist-model="vacancyListCtrl.filterParams.pool" checklist-value="pool.id">{{pool.name}}</label>
                        </div>
                    </li>
                </ul>
                <hr />
                <h4>State</h4>
                <ul>
                    <li ng-repeat="status in vacancyListCtrl.statuses">
                        <div class="checkbox">
                            <label><input type="checkbox" checklist-model="vacancyListCtrl.filterParams.status" checklist-value="status.id">{{status.name}}</label>
                        </div>
                    </li>
                </ul>
                <hr />
                <h4>Added by</h4>
                <ul>
                    <li ng-repeat="adder in vacancyListCtrl.adders">
                        <div class="checkbox">
                            <label><input type="checkbox" checklist-model="vacancyListCtrl.filterParams.addedBy" checklist-value="adder.id">{{adder.alias}}</label>
                        </div>
                    </li>
                </ul>
            </div>
            <div class="col-md-9">
                <table class="table table-striped table-hover table-responsive">
                    <thead>
                        <tr>
                            <th></th>
                            <th>Title</th>
                            <th></th>
                            <th>Pool</th>
                            <th>Start date</th>
<!--                            <th>End date</th>-->
                            <th>Added By</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr dir-paginate="vacancy in vacancyListCtrl.vacancies | itemsPerPage: vacancyListCtrl.filterParams.pageSize"
                            total-items="vacancyListCtrl.totalCount" current-page="vacancyListCtrl.filterParams.page">
                            <td>
                                <input type="checkbox" />
                            </td>
                            <td>
                                <a href="#/vacancy/{{vacancy.id}}/longlist">{{vacancy.name}}</a>
                            </td>
                            <td class="rowlink-skip">
                                <a href="#/vacancy/edit/{{vacancy.id}}" title="Edit Vacancy"><i class="fa fa-pencil"></i></a>
                            </td>
                            <td>
                                <pool-selector pool-lazy="true" pool-readonly="true" pool-short="false"
                                               candidate="vacancy"></pool-selector>
                            </td>
                            <td>{{vacancy.startDate == null ? 'no date' : vacancy.startDate | date:'dd.MM.yyyy'}}</td>
<!--                            <td>{{vacancy.endDate == null ? 'no date' : vacancy.endDate | date:'dd.MM.yyyy'}}</td>-->
                            <td><a href="#/user/edit/{{vacancy.addedById}}">{{vacancy.addedByName}}</a></td>                            
                        </tr>
                    </tbody>
                </table>
                <div class="text-center">
                    <div class="pagination form-inline page-count-wrapper">
                        <span>Items on page</span>
                        <select class="form-control" ng-model="vacancyListCtrl.filterParams.pageSize" ng-change="">
                            <option value="5">5</option>
                            <option value="25">25</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                            <option value="{{vacancyListCtrl.totalCount}}">All</option>
                        </select>

                    </div>
                    <dir-pagination-controls boundary-links="true" ng-model="vacancyListCtrl.filterParams.page" on-page-change="vacancyListCtrl.pageChangeHandler(newPageNumber)" template-url="/Views/vacancy/list/dirPagination.tpl.html"></dir-pagination-controls>
                </div>
            </div>
        </form>
    </div>
</div>
