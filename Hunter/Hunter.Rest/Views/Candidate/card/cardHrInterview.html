<div ng-controller="CardHrInterviewController as hrInterviewCtrl">
    <div class="hrInterview_wrap">
        <div class="btn btn-default" ng-click="generalCardCtrl.changeTemplate(tab)">{{hrInterviewCtrl.vacancy.name}}</div>
        <!--<div class="btn btn-default" ng-click="generalCardCtrl.changeTemplate(tab)">All Feedbacks</div>
        <div class="btn btn-default" ng-click="generalCardCtrl.changeTemplate(tab)">My Feedbacks</div>-->
        <div class="hrInterview_comments">
            <div class="hrInterview_form" ng-repeat="feedback in hrInterviewCtrl.feedbacks">
                <form name="feedbackForm" ng-submit="hrInterviewCtrl.saveHrFeedback(feedback.id, feedback.cardId, feedback.type, feedback.text)">
                    <div>
                        <div>
                            <div style="width: auto;">
                                <h3>{{generalCardCtrl.feedbackTypes[feedback.type].name}}</h3>
                            </div>
                            <div class="vote-group" ng-hide="feedback.id == 0">
                                <thumb-button btn-type="btn-success" btn-icon="fa-thumbs-o-up"
                                              feedback="feedback"
                                              key="Like"></thumb-button>
                                <thumb-button btn-type="btn-danger" btn-icon="fa-thumbs-o-down"
                                              feedback="feedback"
                                              key="Dislike"></thumb-button>
                            </div>
                            <span ng-hide="feedback.date == '' || feedback.id==0">Edited by {{feedback.userAlias}} {{feedback.date | date:'dd.MM.yyyy hh.mm'}}</span>
                        </div>
                        <textarea class="form-control" ng-readonly="feedback.feedbackConfig.readOnly" name="text" 
                                  ng-model="feedback.text" ng-auto-expand ng-style="feedback.feedbackConfig.style">{{feedback.text}}</textarea>
                    </div>
                    <div>
                        <input class="btn btn-default" type="button" style="width: 100px;" ng-click="hrInterviewCtrl.toggleReadOnly(feedback)" value="{{feedback.feedbackConfig.buttonName}}">
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>